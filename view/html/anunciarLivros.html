<!DOCTYPE html>
<html lang="pt">
<head>

    <meta charset="UTF-8"> <!--- Qual significado disso? -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="/view/css/media/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="/view/css/headerStyle.css">
    <link rel="stylesheet" href="/view/css/anunciarLivrosStyle.css">
    
    <link rel="stylesheet" href="/view/css/mainStyle.css">
   
    <title> Livros Aqui - Anunciar</title>
</head>
<body>
    <header>
        <a id="icon" href="/view/html/index.html">
            <img src="/view/css/media/book.png" alt="">
            <h1>LIVROS <span>AQUI</span></h1>
        </a>

        <nav>
            <a href="verLivros.html" >Catálogo</a>
            <a href="anunciarLivros.html" >Vender livros</a>
            <a href="sobreNos.html">Sobre nós</a>
        </nav>

        <aside>
            <img src="/view/css/media/login.png">
            <a href="login.html">
                <h2 id="LoginArea">Login</h2>
            </a>
            <h3 id="Exit">Encerrar sessão</h3>
            
        </aside>

    </header>
    <main>
        <!--
            Livro:
            Titulo*
            Autor*
            Ano de publicação*
            Edição*
            Editora*
            Preço*
            Gênero*
            Número de páginas*
            Desrcição*
            Capa*
            Novo*
            Id
        -->

       
        <section>
            <!--
                Titulo
                Autor
                Ano
                Editora
                Edicao
                Preco
                Genero
                Descricao
                Paginas
                Novo
                FotoCapa
            -->
        
    
            <aside class="DisplayLeft">
                
                <div class="titleForm"> Título</div>
                <input type="text" class="text" id="Titulo" placeholder="Insira aqui o título do livro">

                <div class="titleForm"> Autor do livro</div>
                <input type="text" class="text" id="Autor" placeholder="Insira aqui o nome do autor do livro">

                <div class="titleForm">Ano de publicação</div>
                <select class="select" id="Ano">
                        <option value="Selecione">Selecione</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                        <option value="2021">2021</option>
                        <option value="2020">2020</option>
                        <option value="2019">2019</option>
                        <option value="2018">2018</option>
                        <option value="2017">2017</option>
                        <option value="2016">2016</option>
                        <option value="2015">2015</option>
                        <option value="2014">2014</option>
                        <option value="2013">2013</option>
                        <option value="2012">2012</option>
                        <option value="2011">2011</option>
                        <option value="2010">2010</option>
                        <option value="2009">2009</option>
                        <option value="2008">2008</option>
                        <option value="2007">2007</option>
                        <option value="2006">2006</option>
                        <option value="2005">2005</option>
                        <option value="2004">2004</option>
                        <option value="2003">2003</option>
                        <option value="2002">2002</option>
                        <option value="2001">2001</option>
                        <option value="2000">2000</option>
                        <option value="1999">1999</option>
                        <option value="1998">1998</option>
                        <option value="1997">1997</option>
                        <option value="1996">1996</option>
                        <option value="1995">1995</option>
                        <option value="1994">1994</option>
                        <option value="1993">1993</option>
                        <option value="1992">1992</option>
                        <option value="1991">1991</option>
                        <option value="1990">1990</option>
                        <option value="1989">1989</option>
                        <option value="1988">1988</option>
                        <option value="1987">1987</option>
                        <option value="1986">1986</option>
                        <option value="1985">1985</option>
                        <option value="1984">1984</option>
                        <option value="1983">1983</option>
                        <option value="1982">1982</option>
                        <option value="1981">1981</option>
                        <option value="1980">1980</option>
                        <option value="1979">1979</option>
                        <option value="1978">1978</option>
                        <option value="1977">1977</option>
                        <option value="1976">1976</option>
                        <option value="1975">1975</option>
                        <option value="1974">1974</option>
                        <option value="1973">1973</option>
                        <option value="1972">1972</option>
                        <option value="1971">1971</option>
                        <option value="1970">1970</option>
                        <option value="1969">1969</option>
                        <option value="1968">1968</option>
                        <option value="1967">1967</option>
                        <option value="1966">1966</option>
                        <option value="1965">1965</option>
                        <option value="1964">1964</option>
                        <option value="1963">1963</option>
                        <option value="1962">1962</option>
                        <option value="1961">1961</option>
                        <option value="1960">1960</option>
                        <option value="1959">1959</option>
                        <option value="1958">1958</option>
                        <option value="1957">1957</option>
                        <option value="1956">1956</option>
                        <option value="1955">1955</option>
                        <option value="1954">1954</option>
                        <option value="1953">1953</option>
                        <option value="1952">1952</option>
                        <option value="1951">1951</option>
                        <option value="1950">1950</option>
                        <option value="1950-">Anterior a 1950</option>
                </select>

                <div class="titleForm">Editora</div>
                <select name="" id="Editora" class="select">
                        <option value="Não listada">-Não listada-</option>
                            <option value="Arqueiro">Arqueiro</option>
                            <option value="Boitempo Editorial">Boitempo Editorial</option>
                            <option value="Companhia das Letras">Companhia das Letras</option>
                            <option value="Cosac Naify">Cosac Naify</option>
                            <option value="DarkSide Books">DarkSide Books</option>
                            <option value="Editora 34">Editora 34</option>
                            <option value="Editora Aleph">Editora Aleph</option>
                            <option value="Editora Autêntica">Editora Autêntica</option>
                            <option value="Editora Biruta">Editora Biruta</option>
                            <option value="Editora Globo">Editora Globo</option>
                            <option value="Editora Moderna">Editora Moderna</option>
                            <option value="Editora Peirópolis">Editora Peirópolis</option>
                            <option value="Editora Planeta">Editora Planeta</option>
                            <option value="Editora Pulo do Gato">Editora Pulo do Gato</option>
                            <option value="Editora Record">Editora Record</option>
                            <option value="Editora Rocco">Editora Rocco</option>
                            <option value="Editora Sextante">Editora Sextante</option>
                            <option value="Editora Todavia">Editora Todavia</option>
                            <option value="Editora Valentina">Editora Valentina</option>
                            <option value="Editora Veneta">Editora Veneta</option>
                            <option value="Editora Zahar">Editora Zahar</option>
                            <option value="Ediouro">Ediouro</option>
                            <option value="Grupo Editorial Pensamento">Grupo Editorial Pensamento</option>
                            <option value="Grupo Editorial Saraiva">Grupo Editorial Saraiva</option>
                            <option value="Grupo Editorial Summus">Grupo Editorial Summus</option>
                            <option value="Intrínseca">Intrínseca</option>
                            <option value="L&PM Editores">L&PM Editores</option>
                            <option value="LeYa Brasil">LeYa Brasil</option>
                            <option value="Martin Claret">Martin Claret</option>
                            <option value="Panda Books">Panda Books</option> 
                </select>

                <div class="titleForm">Edição</div>
                <input type="text" class="text" id="Edicao" placeholder="Insira aqui o número da edição">

                <div class="titleForm">Preço</div>
                <input type="text" class="text" id="Preco" placeholder="Insira aqui o número da edição">

                <div class="titleForm"> Gênero</div>
                <select id="Genero" class="select">
                    <option value="Selecione">-Não listado-</option>
                    <option value="Ficção Científica">Ficção Científica</option>
                    <option value="Romance">Romance</option>
                    <option value="Fantasia">Fantasia</option>
                    <option value="Terror">Terror</option>
                    <option value="Mistério">Mistério</option>
                    <option value="Aventura">Aventura</option>
                    <option value="Biografia">Biografia</option>
                    <option value="História">História</option>
                    <option value="Autoajuda">Autoajuda</option>
                    <option value="Poesia">Poesia</option>
                    <option value="Suspense">Suspense</option>
                    <option value="Infantil">Infantil</option>
                    <option value="Juvenil">Juvenil</option>
                    <option value="Não-Ficção">Não-Ficção</option>
                    <option value="Drama">Drama</option>
                    <option value="Literatura Clássica">Literatura Clássica</option>
                    <option value="Crônica">Crônica</option>
                </select>


                

            </aside>
            <aside class="DisplayRight">

                

                <div class="titleForm">Número de páginas</div>
                <input type="text" class="text" id="Paginas" placeholder="Insira aqui número de páginas">

                <div class="titleForm">Descrição:</div>
                <textarea name="" class="textD" id="Descricao" maxlength="300" placeholder="Digite a descrição do livro"></textarea>
                
                <div class="titleForm">O livro é usado ou novo?</div>
                <select id="Novo">
                    <option value="Novo">Novo</option>
                    <option value="Usado">Usado</option>
                </select>

                <div class="titleForm">Link</div>
                <input type="text" class="text" id="FotoCapaR" placeholder="Insira aqui o link da foto de capa">


                <div class="titleForm">Foto do livro:</div>
                
                <label for="FotoCapa" class="label" id="FotoCapa">Ver capa do livro</label>
                
                
                


                <p onclick="adicionarLivro()">Anunciar livro</p>
        </section>
       
        <section>
            <h3>
                Capa do livro
            </h3>
            <div id="coverFrame">
                <img id="preview" src="/LivrosAqui/view/css/media/no-imagem.gif" alt="" >
            </div>

        </section>

        <!--
            Capas de livros
            https://miblart.com/blog/fantasy-book-cover-design/

            https://ar.inspiredpencil.com/pictures-2023/harry-potter-new-book-covers

            https://ocapista.com.br/portfolio_de_capas_de_livro.php

            https://falandoliteraturas.blogspot.com/2017/07/nova-edicao-em-capa-dura-da-saga-harry.html
        -->

        
    </main>

    <script>
        /*
                Titulo
                Autor
                Ano
                Editora
                Edicao
                Preco
                Genero
                Descricao
                Paginas
                Novo
                FotoCapa
        */


        const Titulo = document.getElementById('Titulo')
        const Autor = document.getElementById('Autor');
        const Ano = document.getElementById('Ano');
        const Editora = document.getElementById('Editora');
        const Edicao = document.getElementById('Edicao');
        const Preco = document.getElementById('Preco');
        const Genero = document.getElementById('Genero');
        const Descricao = document.getElementById('Descricao');
        const Paginas = document.getElementById('Paginas');
        const Novo = document.getElementById('Novo');
        const FotoCapa = document.getElementById('FotoCapaR');



       

        /*
        document.getElementById('FotoCapaP').addEventListener('click',function(event){
            var leitorArquivo = new FileReader();
            leitorArquivo.onload = function(){
                var imagem = document.getElementById('preview');
                imagem.src = leitorArquivo.result;
                imagem.style.display = 'block';
                imagem.style = "height: 100%";

                storedImage = event.target.files[0];
            };
            leitorArquivo.readAsDataURL(event.target.files[0]);
        });
        */
       
        document.getElementById('FotoCapa').addEventListener('click',function(event){

        
            console.log(FotoCapa.value)
            if(FotoCapa.value != ""){
                var imagem = document.getElementById('preview');
                imagem.src = FotoCapa.value;
            }else{
                alert("insira o link para a foto de capa antes!")
            }
            
            
        });

        


        function adicionarLivro(){
            const request = new  XMLHttpRequest()

            //request.open("POST","http://0.0.0.0/setLivro")
            request.open("POST","/setLivro")
            //request.setRequestHeader("Content-Type", "application/json; charset=UTF-8")
            request.setRequestHeader("Content-Type", "application/json")
            var data_livro = JSON.stringify({
                "Nome":"Bianca",
                "Sobrenome":"Alkmi",
                "Email": "al@gmail",
                "Titulo": Titulo.value,
                "Autor": Autor.value,
                "Ano":Ano.value,
                "Editora":Editora.value,
                "Edicao":Edicao.value,
                "Preco":Preco.value,
                "Genero":Genero.value,
                "Paginas":Paginas.value,
                "Descricao":Descricao.value,
                "Novo":Novo.value,
                "Foto":FotoCapa.value
            })
            request.send(data_livro)
            console.log("aQUI") //mudar o serivdr para isso: http://127.0.0.1:5500/setLivro 
            request.onload = () => {
                if (request.readyState == 4 || request.status == 201){
                    alert(`Enviado com sucesso`);
                } else {
                    alert(`Erro, por favor tente novamente!`);
                }
            }
        }


        
        
        /*Exibir prévia de capa de livro*/
        

    </script>

</body>

